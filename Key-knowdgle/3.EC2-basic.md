

## **What is Amazon EC2**

**Definition & Core Capabilities:**
- EC2 = Elastic Compute Cloud = Infrastructure as a Service (IaaS)
- One of AWS's most popular offerings
- Main capabilities:
  - **Renting virtual machines (EC2)**
  - **Storing data on virtual drives (EBS)**
  - **Distributing load across machines (ELB)**
  - **Scaling services using auto-scaling groups (ASG)**
- Fundamental to understanding how the Cloud works

## **EC2 Configuration Options**

**Sizing & Configuration Parameters:**
- **Operating System (OS):** Linux, Windows, or Mac OS
- **Compute Power & Cores (CPU):** Variable based on instance type
- **Random-Access Memory (RAM):** Variable based on instance type
- **Storage Space:**
  - Network-attached: EBS & EFS
  - Hardware: EC2 Instance Store
- **Network Card:** Speed and Public IP address configuration
- **Firewall Rules:** Security Groups
- **Bootstrap Script:** EC2 User Data (configure at first launch)

## **EC2 User Data**

**Bootstrap Functionality:**
- Allows bootstrapping instances using EC2 User Data script
- **Bootstrapping = launching commands when machine starts**
- Script runs **only once at instance first start**
- **Runs with root user privileges**

**Common Use Cases:**
- Installing updates
- Installing software
- Downloading common files from the internet
- Any custom configuration tasks

## **EC2 Instance Types**

**Naming Convention:**
- Example: `m5.2xlarge`
  - **m:** instance class
  - **5:** generation (AWS improves over time)
  - **2xlarge:** size within the instance class

### **Instance Type Categories:**

**1. General Purpose**
- Great for diversity of workloads (web servers, code repositories)
- Balance between: Compute, Memory, Networking
- Example: t2.micro (used in course, part of AWS free tier)

**2. Compute Optimized**
- Great for compute-intensive tasks requiring high performance processors
- Use cases:
  - Batch processing workloads
  - Media transcoding
  - High performance web servers
  - High performance computing (HPC)
  - Scientific modeling & machine learning
  - Dedicated gaming servers

**3. Memory Optimized**
- Fast performance for workloads processing large data sets in memory
- Use cases:
  - High performance relational/non-relational databases
  - Distributed web scale cache stores
  - In-memory databases optimized for BI
  - Real-time processing of big unstructured data

**4. Storage Optimized**
- Great for storage-intensive tasks requiring high sequential read/write access
- Use cases:
  - High frequency online transaction processing (OLTP) systems
  - Relational & NoSQL databases
  - Cache for in-memory databases (Redis)
  - Data warehousing applications
  - Distributed file systems

### **Instance Types Example:**

| Instance | vCPU | Memory (GiB) | Storage | Network Performance | EBS Bandwidth (Mbps) |
|----------|------|--------------|---------|-------------------|---------------------|
| t2.micro | 1 | 1 | EBS-Only | Low to Moderate | - |
| t2.xlarge | 4 | 16 | EBS-Only | Moderate | - |
| c5d.4xlarge | 16 | 32 | 1 x 400 NVMe SSD | Up to 10 Gbps | 4,750 |
| r5.16xlarge | 64 | 512 | EBS Only | 20 Gbps | 13,600 |
| m5.8xlarge | 32 | 128 | EBS Only | 10 Gbps | 6,800 |

*Note: t2.micro is part of AWS free tier (up to 750 hours per month)*

## **Security Groups**

**Fundamental Network Security:**
- **Core function:** Control traffic in/out of EC2 instances
- Act as "firewall" on EC2 instances
- Only contain **rules** (no explicit deny)
- Rules can reference by IP or by security group

**What Security Groups Regulate:**
- **Access to Ports**
- **Authorized IP ranges** (IPv4 and IPv6)
- **Inbound network** (from other to instance)
- **Outbound network** (from instance to other)

**Important Characteristics:**
- Can be attached to multiple instances
- Locked to region/VPC combination
- Lives "outside" the EC2 instance
- Good practice: maintain separate security group for SSH access
- **All inbound traffic blocked by default**
- **All outbound traffic authorized by default**

**Security Group References:**
- Security groups can reference other security groups
- Enables flexible, scalable access control patterns

## **Common Ports to Know**

**Essential Port Numbers:**
- **22:** SSH (Secure Shell) - log into Linux instance
- **21:** FTP (File Transfer Protocol) - upload files
- **22:** SFTP (Secure File Transfer Protocol) - upload files using SSH
- **80:** HTTP - access unsecured websites
- **443:** HTTPS - access secured websites
- **3389:** RDP (Remote Desktop Protocol) - log into Windows instance

## **EC2 Connectivity Methods**

**Connection Options:**

| Platform | Method | Notes |
|----------|--------|-------|
| Mac/Linux | SSH | Native command line |
| Windows < 10 | Putty | Third-party SSH client |
| Windows >= 10 | SSH | Native command line support |
| All Platforms | EC2 Instance Connect | Browser-based connection |

### **EC2 Instance Connect:**
- Connect through browser interface
- No need for downloaded key file
- AWS uploads temporary key to EC2
- **Works only out-of-the-box with Amazon Linux 2**
- Requires port 22 to be open in security groups

## **Troubleshooting Guidelines**

**Common Issues:**
- **Application not accessible (timeout):** Security group issue
- **"Connection refused" error:** Application error or not launched
- **SSH problems:** Most common student issue

**SSH Troubleshooting Steps:**
1. Re-watch relevant lectures
2. Read troubleshooting guide
3. Try EC2 Instance Connect
4. If one method works, you're good to proceed

## **Key Concepts for Developers**

**Essential Knowledge:**
- EC2 is fundamental Infrastructure as a Service
- Understanding instance types helps optimize cost and performance
- Security groups are critical for network security
- User Data enables automated instance configuration
- Multiple connectivity options provide flexibility
- Proper troubleshooting approach saves time